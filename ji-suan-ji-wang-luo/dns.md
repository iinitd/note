# DNS

* DNS、ARP \#tbd
* 客户端提出域名解析请求，发送给本地域名服务器
* 本地域名服务器查询，若命中缓存则返回，否则请求根域名服务器
* 根域名服务器返回所查询域的主域名服务器地址
* 本地域名服务器向主域名服务器发送请求
* 主域名查询，若命中缓存则返回，否则请求下一级的域名服务器
* 重复此过程直到找到记录，更新缓存，返回给客户端

## 递归查询

主机向本地域名服务器的查询一般都是采用递归查询。

返回的查询结果或者是所要查询的IP地址，或者是报错，表示无法查询到所需的IP地址。

## 迭代查询

本地域名服务器向根域名服务器的查询的迭代查询。

当根域名服务器收到本地域名服务器发出的迭代查询请求报文时，要么给出所要查询的IP地址，要么告诉本地服务器：“你下一步应当向哪一个域名服务器进行查询”。然后让本地服务器进行后续的查询。

